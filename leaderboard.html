<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Press Start 2P', cursive; 
      background: #000 url('https://i.postimg.cc/https://postimg.cc/xkHTT9hy/background.png') repeat;
      background-size: 256px 256px; image-rendering: pixelated; 
      color: #fff; text-shadow: 2px 2px #000; margin: 0; padding: 20px; height: 100vh; 
    }
    h1 { text-align: center; }
    table { width: 90%; margin: 20px auto; border-collapse: collapse; border: 5px solid #ff0; background: rgba(0,0,0,0.8); }
    th, td { border: 3px solid #ff0; padding: 20px; text-align: center; font-size: 14px; }
    th { background: #f80; color: #000; }
    tr:nth-child(even) { background: rgba(255,165,0,0.2); }
    tr:hover { background: rgba(0,255,0,0.3); }
  </style>
</head>
<body>
  <h1>WEEKLY PITCH CHALLENGE RESULTS</h1>
  <p style="text-align:center; font-size:12px;">Real-time Top 10</p>
  <table id="tbl">
    <thead><tr><th>Rank</th><th>Player</th><th>Score</th></tr></thead>
    <tbody></tbody>
  </table>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js';
    import { getDatabase, ref, onValue } from 'https://www.gstatic.com/firebasejs/10.14.1/firebase-database.js';

    // ←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←
    const firebaseConfig = {
      apiKey: "AIzaSyDrL9ekV4tmzNx2N_KjXC_zneI26dgBryU",
      authDomain: "x-culture--pitch-arena.firebaseapp.com",
      databaseURL: "https://x-culture--pitch-arena-default-rtdb.firebaseio.com",
      projectId: "x-culture--pitch-arena",
      storageBucket: "x-culture--pitch-arena.firebasestorage.app",
      messagingSenderId: "642180627612",
      appId: "1:642180627612:web:af97fc0187215160d70159"
    };
    // ←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const scoresRef = ref(db, 'scores');

    onValue(scoresRef, (snap) => {
      let scores = [];
      snap.forEach((child) => {
        const data = child.val();
        if (data && data.score > 0) scores.push(data);
      });
      scores = scores.sort((a,b) => b.score - a.score).slice(0,10);
      const tbody = document.querySelector('#tbl tbody');
      tbody.innerHTML = '';
      scores.forEach((s, i) => {
        tbody.innerHTML += `<tr><td>${i+1}</td><td>${s.name}</td><td>${s.score}/5 Stars</td></tr>`;
      });
      if (scores.length === 0) tbody.innerHTML = '<tr><td colspan=3>No players yet...</td></tr>';
    });
  </script>
</body>
</html>